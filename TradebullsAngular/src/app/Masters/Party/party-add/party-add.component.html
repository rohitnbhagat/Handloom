<div *ngIf="isModalOpen" class="modal fade bs-example-modal-lg " [ngClass]="{'show': isModalOpen}" tabindex="-1"
    role="dialog" aria-modal="true" style="padding-right: 17px; display: block;">
    <div class="modal-dialog modal-lg" style="max-width: 80%;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">
                    {{ header }}
                </h4>
                <button type="button" class="close" data-dismiss="modal" (click)="CloseModel()"><span
                        aria-hidden="true">Ã—</span>
                </button>
            </div>
            <div class="modal-body" style="max-height: 70vh;overflow: auto;">
                <form [formGroup]="UserForm" class="form-horizontal form-label-left" novalidate=""
                    (ngSubmit)="SaveUser()">
                    <div class="item form-group" style="display: none;">
                        <label class="col-form-label col-md-2 col-sm-2 label-align">PartyID <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-8 col-sm-8 ">
                            <input type="hidden" formControlName="PartyID" class="form-control " placeholder="PartyID"
                                value="Usermodel.PartyID" />
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="col-form-label col-md-2 col-sm-2 label-align">Party Type <span class="spnRequired">*</span>
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <select formControlName="PartyTypeID" class="form-control">
                                <option value="0">Please select</option>
                                <option *ngFor="let t of PartyTypes" [value]="t.PartyTypeID">{{t.PartyTypeName}}
                                </option>
                            </select>
                            <ul *ngIf="( FormControl.PartyTypeID.touched || submitted ) && FormControl.PartyTypeID.errors?.required"
                                class="parsley-errors-list filled" id="parsley-id-5">
                                <li class="parsley-required">Party Type is required.</li>
                            </ul>
                        </div>
                        <label class="col-form-label col-md-2 col-sm-2 label-align">Party Code
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <input type="text" formControlName="PartyCode" class="form-control "
                                placeholder="Enter Party Code" />
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="col-form-label col-md-2 col-sm-2 label-align">Party Name <span class="spnRequired">*</span>
                        </label>
                        <div class="col-md-10 col-sm-8 ">
                            <input type="text" formControlName="PartyName" class="form-control "
                                placeholder="Enter Party Name" />
                            <ul *ngIf="( FormControl.PartyName.touched || submitted ) && FormControl.PartyName.errors?.required"
                                class="parsley-errors-list filled" >
                                <li class="parsley-required">Party Name is required.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="item form-group" style="display: none;">
                        <label class="col-form-label col-md-2 col-sm-2 label-align">First Name <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <input type="text" formControlName="FirstName" class="form-control "
                                placeholder="Enter First Name" />
                            <ul *ngIf="( FormControl.FirstName.touched || submitted ) && FormControl.FirstName.errors?.required"
                                class="parsley-errors-list filled" id="parsley-id-5">
                                <li class="parsley-required">First Name is required.</li>
                            </ul>
                        </div>
                        <label class="col-form-label col-md-2 col-sm-2 label-align">Last Name <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <input type="text" formControlName="LastName" class="form-control "
                                placeholder="Enter Last Name" />
                            <ul *ngIf="( FormControl.LastName.touched || submitted ) && FormControl.LastName.errors?.required"
                                class="parsley-errors-list filled" id="parsley-id-5">
                                <li class="parsley-required">Last Name is required.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="col-form-label col-md-2 col-sm-2 label-align">Alias
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <input type="text" formControlName="Alias" class="form-control "
                                placeholder="Enter Alias" />
                        </div>
                        <label class="col-form-label col-md-2 col-sm-2 label-align">EmailID
                        </label>
                        <div class="col-md-4 col-sm-8 ">
                            <input type="text" formControlName="EmailID" class="form-control"
                                placeholder="Enter EmailID" />
                        </div>
                    </div>
                    <div class="item form-group">
                        <div class="col-md-12 col-sm-12 ">
                            <ul class="nav nav-tabs bar_tabs" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="other-tab" data-toggle="tab" href="#other" role="tab"
                                        aria-controls="other" aria-selected="true">Other Details</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="bank-tab" data-toggle="tab" href="#bank" role="tab"
                                        aria-controls="bank" aria-selected="false">Bank Details</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="remark-tab" data-toggle="tab" href="#remark" role="tab"
                                        aria-controls="remark" aria-selected="false">Remarks</a>
                                </li>
                                <li class="nav-item" style="display: flex;" *ngFor="let address of PartyAddress">
                                    <a class="nav-link" [id]="'address'+address.AddressTypeID+'-tab'" data-toggle="tab"
                                        [href]="'#address'+address.AddressTypeID" role="tab"
                                        [attr.aria-controls]="'address'+address.AddressTypeID"
                                        aria-selected="false">{{address.AddressTypeName + ' Address'}}</a>
                                    <button type="button" class="btn" style="background-color: #f3f5f8;" (click)="EditAddress(address)">
                                        <i class="fa fa-edit"></i>
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button type="button" class="nav-link btn btn-primary" id="btnAddAddress"
                                        (click)="CreateNewAddress()"><i
                                        class="fa fa-plus-circle"></i>&nbsp;&nbsp;Add Address</button>
                                </li>
                            </ul>
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="other" role="tabpanel"
                                    aria-labelledby="other-tab">
                                    <div class="form-horizontal form-label-left">
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">GST No
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="GSTNo" class="form-control "
                                                    placeholder="Enter GST No" />
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">PAN No
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="PANNo" class="form-control"
                                                    placeholder="Enter PAN No" />
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">State Code
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="StateCode" class="form-control "
                                                    placeholder="Enter State Code" />
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">ECC No
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="ECCNo" class="form-control"
                                                    placeholder="Enter ECC No" />
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Website
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="Website" class="form-control "
                                                    placeholder="Enter Website" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="bank" role="tabpanel" aria-labelledby="bank-tab">
                                    <div class="form-horizontal form-label-left">
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Bank Name
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="BankName" class="form-control "
                                                    placeholder="Enter Bank Name" />
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Bank Address
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="BankAddress" class="form-control"
                                                    placeholder="Enter Bank Address" />
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">AccountNo
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="BankAccountNo" class="form-control "
                                                    placeholder="Enter Bank Account No" />
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">IFSC Code
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" formControlName="BankIFSCCode" class="form-control"
                                                    placeholder="Enter IFSC Code" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="remark" role="tabpanel" aria-labelledby="remark-tab">
                                    <textarea type="text" formControlName="Remarks" class="form-control "
                                        placeholder="Remarks" rows="6"></textarea>
                                </div>
                                <div class="tab-pane fade" *ngFor="let address of PartyAddress"
                                    [id]="'address'+address.AddressTypeID" role="tabpanel"
                                    [attr.aria-labelledby]="'address'+address.AddressTypeID+'-tab'">
                                    <div class="form-horizontal form-label-left">
                                        <div class="item form-group" style="display: none;">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">PartyAddressID
                                            </label>
                                            <div class="col-md-8 col-sm-8 ">
                                                <input type="hidden" class="form-control " placeholder="PartyAddressID" [value]="address.PartyAddressID"  />
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Address Type
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.AddressTypeName" class="form-control "
                                                    readonly/>
                                            </div>
                                        </div>
                                        <div class="item form-group" style="display: none;">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">First Name
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.FirstName" class="form-control "
                                                    readonly/>
                                                
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Last Name 
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.LastName" class="form-control "
                                                   readonly/>
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Address Line 1
                                            </label>
                                            <div class="col-md-10 col-sm-8 ">
                                                <input type="text" [value]="address.Address1" class="form-control "
                                                    readonly/>
                                               
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Address Line 2
                                            </label>
                                            <div class="col-md-10 col-sm-8 ">
                                                <input type="text" [value]="address.Address2" class="form-control "
                                                    readonly/>
                                                
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Country
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.CountryName" class="form-control "
                                                     readonly/>
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">State
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.StateName" class="form-control "
                                                    readonly/>
                                            </div>
                                        </div>
                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">City
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.CityName" class="form-control "
                                                    readonly/>
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Post Code
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.Postcode" class="form-control "
                                                    readonly/>
                                            </div>
                                        </div>

                                        <div class="item form-group">
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">EmailID
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.EmailID" class="form-control "
                                                    readonly/>
                                            </div>
                                            <label class="col-form-label col-md-2 col-sm-2 label-align">Phone No
                                            </label>
                                            <div class="col-md-4 col-sm-8 ">
                                                <input type="text" [value]="address.PhoneNo" class="form-control "
                                                    readonly/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                    (click)="CloseModel()">Close</button>
                <button type="button" class="btn btn-primary" (click)="SaveUser()">Save changes</button>
            </div>

        </div>
    </div>
</div>
<div class="modal-backdrop fade show" *ngIf="isModalOpen"></div>

<app-party-address-add #usercomp (SaveEvent)="SaveAddress($event)"></app-party-address-add>